<%= simple_form_for(@property) do |f| %>
<%= f.error_notification %>
<div class="card bg-white border-0 mb-4">
    <div class="form-inputs form-row card-body p-5">
        <div class="col-12">
            <p class="h4 font-weight-bold text-secondary mb-4">Description du bien</p>
        </div>
        <div class="col-12">
            <%= f.input :title, autofocus: true, required: true, label: "Titre", placeholder: "Bureau de 25m2 à louer à Akpakpa au 1er étage" %>
        </div>
        <div class="col-12">
            <%= f.input :description, required: true, label: "Description", placeholder: "Description", input_html: { rows: 5 } %>
        </div>
        <div class="col-lg-4">
            <%= f.association :ad_type, label: "Type d'annonce", include_blank: false %>
        </div>
        <div class="col-lg-4">
            <%= f.association :property_type, label: "Type de bien", include_blank: false %>
        </div>
        <div class="col-lg-4">
            <%= f.input :area, required: true, label: "Surface", placeholder: "25" %>
        </div>
        <div class="col-lg-4">
            <%= f.input :room, collection: Property::ROOM, label: "Nombres de pièce", include_blank: false %>
        </div>
        <div class="col-lg-4">
            <%= f.input :bedroom, collection: Property::BEDROOM, label: "Nombres de chambre", include_blank: false %>
        </div>
        <div class="col-lg-4">
            <%= f.input :bathroom, collection: Property::BATHROOM, label: "Nombres de salle de bain", include_blank: false %>
        </div>
        <div class="col-lg-4">
            <%= f.input :price, required: true, label: "Loyer mensuel", placeholder: "45000" %>
        </div>
        <div class="col-lg-4">
            <%= f.input :avance, required: true, label: "Avance", placeholder: "3" %>
        </div>
        <div class="col-lg-4">
            <%= f.input :available, collection: [['1', 'Oui'], ['0', 'Non']], label_method: :second, value_method: :first, label: "Ddisponible maintenant ?", include_blank: false %>
        </div>
    </div>
</div>

<div class="card bg-white border-0 mb-4">
    <div class="form-inputs form-row card-body p-5">
        <div class="col-12">
            <p class="h4 font-weight-bold text-secondary mb-4">Détails du bien</p>
        </div>

    </div>
</div>

<div class="card bg-white border-0 mb-4">
    <div class="form-inputs form-row card-body p-5">
        <div class="col-12">
            <p class="h4 font-weight-bold text-secondary mb-4">Adresse du bien</p>
        </div>
        <div class="col-lg-6">
            <%= f.input :address, required: true, label: "Adresse", placeholder: "Ex: 9 Av du renouveau" %>
        </div>
        <div class="col-lg-6">
            <%= f.input :city, required: true, label: "Ville ou Quartier", placeholder: "Ex: Fidjrossè, Fifadji, Zogbo, Godomey" %>
        </div>
    </div>
</div>

<!-- <%= f.simple_fields_for :property_photos do |photo_form| %>
<p class="h3 mt-4 mb-0">Photos</p>
<hr>
<div class="form-inputs form-row">
    <div class="col-12">
        <%= photo_form.input :photo, as: :file, label: "Photo 1", input_html: {class: "form -control form-control-file" } %>
    </div>
    <div class="col-12">
        <%= photo_form.input :photo, as: :file, label: "Photo 2", input_html: {class: "form -control form-control-file" } %>
    </div>
    <div class="col-12">
        <%= photo_form.input :photo, as: :file, label: "Photo 3", input_html: {class: "form -control form-control-file" } %>
    </div>
</div>
<% end %> -->

<%= f.fields_for :property_photos do |photo_form| %>
<div class="card bg-white border-0 mb-4">
    <div class="form-inputs form-row card-body p-5">
        <div class="col-12">
            <p class="h4 font-weight-bold mb-4">Photos</p>
        </div>
        <div class="col-12 form-group">
            <%= photo_form.label "Photo", class: "control-label" %>
            <%= image_tag(@property.property_photos.first.photo_url(:large)) if @property.property_photos.first.photo.present? %>
            <%= photo_form.file_field :photo, name: "property_photos[photo][]", class: "form -control form-control-file" %>
        </div>
        <div class="col-12 form-group">
            <%= photo_form.label "Photo", class: "control-label" %>
            <%= image_tag(@property.property_photos.first.photo_url(:large)) if @property.property_photos.first.photo.present? %>
            <%= photo_form.file_field :photo, name: "property_photos[photo][]", class: "form -control form-control-file" %>
        </div>
        <div class="col-12 form-group">
            <%= photo_form.label "Photo", class: "control-label" %>
            <%= image_tag(@property.property_photos.first.photo_url(:large)) if @property.property_photos.first.photo.present? %>
            <%= photo_form.file_field :photo, name: "property_photos[photo][]", class: "form -control form-control-file" %>
        </div>
    </div>
</div>
<% end %>

<div class="form-actions form-row mt-4">
    <div class="col-12">
        <%= f.button :submit, @property.new_record? ? "Ajouter l'annonce" : "Modifier l'annonce", class: "btn btn-primary btn-lg" %>
    </div>
</div>
<% end %>
